# ==============================================================================
# PRODUCTION ENVIRONMENT VARIABLES FOR VERCEL DEPLOYMENT
# ==============================================================================
# This file documents all required and optional environment variables for
# production deployment on Vercel.
#
# Configure these in Vercel UI: Project Settings > Environment Variables
# ==============================================================================

# ==============================================================================
# CLERK AUTHENTICATION (REQUIRED)
# ==============================================================================
# Production Clerk keys from: https://dashboard.clerk.com/apps/<your-app>/api-keys
# Use pk_live_* and sk_live_* for production
#
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_...
CLERK_SECRET_KEY=sk_live_...

# Clerk URLs (usually same for all environments)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# ==============================================================================
# DATABASE (REQUIRED)
# ==============================================================================
# Neon Postgres connection string with connection pooling enabled
# Format: postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/callcoach?sslmode=require
#
# IMPORTANT: Use Neon's connection pooler endpoint for serverless:
# - Pooled connection: ep-xxx.us-east-2.aws.neon.tech (use this)
# - Direct connection: ep-xxx-pooler.us-east-2.aws.neon.tech (avoid in serverless)
#
DATABASE_URL=postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/callcoach?sslmode=require

# Connection pool limits for serverless (adjust based on Neon plan)
DATABASE_POOL_MIN_SIZE=2
DATABASE_POOL_MAX_SIZE=10

# ==============================================================================
# GONG API (REQUIRED)
# ==============================================================================
# Gong API credentials for data synchronization
# Get from: Gong > Settings > Integrations > API
#
GONG_API_KEY=your_gong_access_key_here
GONG_API_SECRET=your_gong_secret_key_here
GONG_WEBHOOK_SECRET=your_webhook_secret_here
GONG_API_BASE_URL=https://us-79647.api.gong.io/v2

# ==============================================================================
# ANTHROPIC CLAUDE API (REQUIRED)
# ==============================================================================
# Claude API key for AI coaching analysis
# Get from: https://console.anthropic.com/settings/keys
#
ANTHROPIC_API_KEY=sk-ant-api03-...

# ==============================================================================
# APPLICATION CONFIGURATION (REQUIRED)
# ==============================================================================
# Production URL for absolute URLs, redirects, etc.
NEXT_PUBLIC_APP_URL=https://coaching.prefect.io

# MCP Backend URL (if using separate FastMCP deployment)
# Leave blank if using integrated serverless functions
NEXT_PUBLIC_MCP_BACKEND_URL=

# ==============================================================================
# VERCEL CRON AUTHENTICATION (REQUIRED for cron jobs)
# ==============================================================================
# Secret for authenticating Vercel Cron requests
# Generate with: openssl rand -base64 32
# Add this to Vercel dashboard as: CRON_SECRET
#
CRON_SECRET=your_generated_secret_here

# ==============================================================================
# ANALYSIS SETTINGS (OPTIONAL - uses defaults if not set)
# ==============================================================================
# Caching and chunking configuration for call analysis
ENABLE_CACHING=true
CACHE_TTL_DAYS=90
MAX_CHUNK_SIZE_TOKENS=80000
CHUNK_OVERLAP_PERCENTAGE=20

# ==============================================================================
# LOGGING (OPTIONAL)
# ==============================================================================
# Log level for serverless functions
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==============================================================================
# RATE LIMITING (OPTIONAL)
# ==============================================================================
# Rate limiting for API routes
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# FEATURE FLAGS (OPTIONAL)
# ==============================================================================
# Gradual feature rollouts
NEXT_PUBLIC_FEATURE_COACHING_FEED=true
NEXT_PUBLIC_FEATURE_ADVANCED_ANALYTICS=false
NEXT_PUBLIC_FEATURE_TEAM_LEADERBOARD=false

# ==============================================================================
# NOTIFICATIONS (OPTIONAL)
# ==============================================================================
# Slack webhook for sync failure notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# ==============================================================================
# VERCEL SYSTEM VARIABLES (Auto-populated - DO NOT SET)
# ==============================================================================
# These are automatically provided by Vercel:
# - VERCEL=1
# - VERCEL_ENV=production
# - VERCEL_URL=<auto-generated>
# - VERCEL_REGION=iad1
# - VERCEL_GIT_COMMIT_SHA=<sha>
